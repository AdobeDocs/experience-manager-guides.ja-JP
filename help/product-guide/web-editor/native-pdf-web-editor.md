---
title: ネイティブPDF |PDF出力生成
description: ネイティブPDFの公開を使用する方法、PDFの出力プリセットを作成および生成する方法、ネイティブPDFの出力を生成した後に一時ファイルをダウンロードする方法、およびAEMガイドで言語変数を使用する方法について説明します。
exl-id: ec3d59b7-1dda-4fd1-848e-21d8a36ff5e4
source-git-commit: 0afe8bf9b16b1d1367971462b0d44f1721b317c5
workflow-type: tm+mt
source-wordcount: '3255'
ht-degree: 0%

---

# 公開PDF出力

AEMガイドを使用すると、個々のトピックのPDFまたはマップファイル全体を生成できます。 次の 3 つの方法のいずれかを使用して、PDF形式でコンテンツを公開できます。

* **DITA-OT**

このメソッドを使用して、マップのPDF出力をマップダッシュボードから生成します。 パブリッシュプロパティを設定してからPDFを生成するには、マップダッシュボードで開くマップの出力プリセットを作成します。 出力プリセットを作成または編集するには、 *出力プリセットの理解* セクション内 [AEMガイドas a Cloud Serviceユーザーガイド](https://helpx.adobe.com/content/dam/help/en/xml-documentation-solution/cs-apr-22/XML-Documentation-for-Adobe-Experience-Manager_CS_User-Guide_EN.pdf).

DITA-OT メソッドを使用したPDFの生成について詳しくは、 [DITA-OT を使用してPDFを生成](/help/product-guide/user-guide/generate-output-pdf.md).

* **FrameMaker Publishing Server(FMPS)**

この方法を使用して、DITA コンテンツだけでなく、AEMリポジトリで使用可能なFrameMakerドキュメント（.book および.fm）からもPDF出力を生成します。 PDFは、出力プリセットを設定し、FrameMaker Publishing Server(FMPS) を使用して公開することで作成できます。 PDFやその他の形式の出力のデザインとルックアンドフィールを設定し、設定ファイル (.sts) に保存することができます。 この設定ファイルは、FMPS で DITA マップまたは.book ファイルの出力を生成するために使用されます。 出力プリセットを作成または編集するには、  *出力プリセットの理解* セクション内 [AEMガイドas a Cloud Serviceユーザーガイド](https://helpx.adobe.com/content/dam/help/en/xml-documentation-solution/cs-apr-22/XML-Documentation-for-Adobe-Experience-Manager_CS_User-Guide_EN.pdf).

FMPS の設定の詳細は、 [出力をFrameMaker文書から生成](/help/product-guide/user-guide/fm-output-generate.md).

* **ネイティブPDFの公開**

この方法を使用して、W3C CSS3 および CSS ページメディア標準に基づいて、機能豊富なPDF出力を生成します。 ネイティブPDFの公開では、テンプレートを使用してコンテンツのレイアウトとスタイルを設定し、様々な設定を適用してPDFを微調整できます。 さらに、テンプレートエディターを使用して独自のテンプレートを変更および作成できます。

ネイティブPDFの公開について詳しくは、 [ネイティブPDF公開の使用](#native-pdf-publishing).


## ネイティブPDF公開の使用 {#native-pdf-publishing}

コンテンツをオーサリングする場合、コンテンツを表示、編集および印刷するために最適化することが不可欠です。 サイズ、余白、向き、改ページ、ヘッダー、フッター、ページ番号などのページ定義プロパティに対して、コンテンツのスタイル設定用の W3C CSS3 標準や CSS ページ化メディア標準を使用して、PDFドキュメントの表示とレイアウトを設定できます。 ネイティブPDFの公開機能では、これらの標準を使用してPDFを生成します。

ネイティブPDFの公開では、コンテンツのレイアウトと構造の一貫性を確保し、スタイルシートを適用して出力のルックアンドフィールを変更し、PDFを最適化、プリンターマークを設定、PDF準拠を設定、フォントを埋め込むことができます。

ネイティブPDFの公開を使用したPDFの生成には、次の 2 つの側面があります。

* テンプレートを使用して、コンテンツにスタイルを適用し、ページレイアウトを設定し、様々な設定を行い、PDFを微調整します。 作成者は、提供されるサンプルテンプレートの使用/変更、カスタムテンプレートの作成、発行者や開発者が使用する高度な設定オプションの設定を選択できます。

* PDFの出力プリセットを作成または設定して、PDF設定を制御します。 PDF出力プリセットを作成したら、PDFを生成できます。

詳しくは、 [PDF出力の生成](#generate-pdf-output).

## PDF出力プリセットの作成 {#create-output-preset}

PDF出力を生成する最初の手順は、PDF出力プリセットを作成することです。これは、マップに割り当てられた公開プロパティの集まりです。 マップビューパネルで開いている任意のマップの出力プリセットを作成したり、既存のプリセットを設定して、同じマップのPDFをすばやく生成することができます。

PDFの出力プリセットから、PDFを選択し、条件を適用し、制限を設定して、ユーザーがテンプレートとやり取りする方法を制御し、圧縮や準拠などの詳細設定をおこなうことができます。

PDF出力プリセットを作成または設定するには：

1. 「出力」タブで、 **プリセット** 左側のサイドバーに表示されます。
プリセットパネルが開きます。 <br>
<img src="assets/preset-panel.png" alt="プリセットパネル" width="600">

1. 出力内 **プリセット** パネルで、次のいずれかの操作を行います。
   * 事前定義済みのPDF出力プリセットをダブルクリックして表示します。
   * +アイコンをクリックします。 **プリセット** 新しい出力プリセットを追加するには： **型：PDF**

1. 既存の設定プリセットの設定をPDFするには：
   * 次をクリック：  **オプション** ![options](assets/options.svg) 目的の出力プリセットの横にあるアイコンをクリックし、「 」を選択します。 **編集**.
次の設定を **一般**, **メタデータ**, **レイアウト**, **セキュリティ**、および **詳細** タブで、PDF出力プリセットを設定します。

**一般**

出力パス、PDFファイル名など、基本的な出力設定を指定する場合に使用します。

| 設定 | 説明 |
| --- | --- |
| **出力パス** | AEMリポジトリ内のパス。PDF出力が格納されます。 出力パスがプロジェクトフォルダー内にないことを確認します。 空白の場合、出力はデフォルトの DITA マップ出力場所に生成されます。<br>次の標準の変数を使用して、出力パスを定義することもできます。 このオプションは、1 つの変数または変数の組み合わせを使用して定義できます。 <br> `${map_filename}`:DITA マップファイル名を使用して宛先パスを作成します。 <br> `${map_title}`:DITA マップタイトルを使用して、宛先パスを作成します。 <br>`${preset_name}`：出力プリセット名を使用して、宛先のパスを作成します。 <br> `${language_code}`：マップファイルの場所にある言語コードを使用して、宛先パスを作成します。 <br> `${map_parentpath}`：マップファイルの完全パスを使用して、宛先パスを作成します。  <br>`${path_after_langfolder}`：言語フォルダーの後のマップファイルのパスを使用して、宛先パスを作成します。 |
| **PDFファイル** | ファイル名を指定して、PDFを保存します。 デフォルトでは、PDFファイル名は、DITA マップ名とプリセット名を追加します。 例えば、ditamap は「TestMap」、プリセットの名前は「preset1」です。PDF のデフォルト名は「TestMap_preset1.pdf」です。 <br>また、次の標準の変数を使用して、PDFファイルを定義できます。 このオプションは、1 つの変数または変数の組み合わせを使用して定義できます。 <br>`${map_filename}`<br>`${map_title}`<br>`${preset_name}` <br> `${language_code}`。 |
| **次を使用して条件を適用** | 条件付きコンテンツの場合、次のオプションから選択して、これらの条件に基づいてPDF出力を生成します。 <br><ul> <li> **未適用** マップおよびソースコンテンツに条件を適用しない場合は、このオプションを選択します。 <br><li> **Ditaval ファイル** 条件付きコンテンツを生成するには、DITAVAL ファイルを選択します。 選択するには、「条件プリセット」をクリックし、ファイルを見つけます。 <br> <li> **条件プリセット** 出力の公開時に条件を適用するには、ドロップダウンから条件プリセットを選択します。 このオプションは、DITA マップファイルに条件を追加した場合に表示されます。 条件設定は、DITA マップコンソールの「条件プリセット」タブで使用できます。 条件プリセットについて詳しくは、 [条件プリセットの使用](/help/product-guide/user-guide/generate-output-use-condition-presets.md). <br> </ul> |
| **ベースラインを使用** | 選択した DITA マップのベースラインを作成した場合は、このオプションを選択して、公開するバージョンを指定します。 詳しくは、 [基準計画を使用する](/help/product-guide/user-guide/generate-output-use-baseline-for-publishing.md) を参照してください。 |
| **公開済みPDF間の変更バーを使用したバージョンの作成** | 次のオプションを使用して、変更バーを使用して 2 つのPDF間のコンテンツの違いを示すバージョンを作成します。   <br><ul><li> **以前のバージョンのベースライン** 現在のバージョンまたは別のベースラインと比較するベースラインバージョンを選択します。 変更されたコンテンツを示す変更バーがPDFに表示されます。 変更バーは、新しいコンテンツや改訂されたコンテンツを視覚的に識別する縦線です。 変更バーは、挿入、変更または削除されたコンテンツの左側に表示されます。 <br> **注意**：選択した **ベースラインを使用** およびは、公開するベースラインを選択します。選択した 2 つのベースラインバージョンの間で比較がおこなわれます。 例えば、の下に「ベースラインバージョン 1.3」を選択した場合、 **ベースラインを使用**、およびの下のバージョン 1.1 **以前のバージョンのベースライン**&#x200B;の場合、ベースラインバージョン 1.1 とベースラインバージョン 1.3 の間で比較がおこなわれます。 <br><li> **追加したテキストを表示** 挿入したテキストを緑色で表示し、下線を付けます。 このオプションはデフォルトで選択されています。 <br> <li> **削除されたテキストを表示** 削除したテキストを赤い色で、取り消し線付きで表示する場合に選択します。 このオプションはデフォルトで選択されています。<br>**注意** スタイルシートを使用して、変更バー、挿入されたコンテンツ、または削除されたコンテンツのスタイル設定をカスタマイズすることもできます。<br></ul> |
| **生成後のワークフロー** | 「 」を選択して、AEMで設定されたすべてのワークフローを含むドロップダウンリストを表示します。 ワークフロー生成ワークフローの完了後に実行するPDFを選択できます。 |

**メタデータ**

メタデータは、コンテンツの説明または定義です。 メタデータは、コンテンツの管理に役立ち、インターネット上でのファイルの検索に役立ちます。

「メタデータ」タブを使用して、PDF出力用のメタデータフィールド（作成者の名前、ドキュメントのタイトル、キーワード、著作権情報など）を設定します。 また、PDF出力用のカスタムメタデータを追加できます。

このメタデータは、出力PDFの「ドキュメントのプロパティ」内の「説明」タブでメタデータにマッピングされます。

**注意**：このメタデータは、ブックレベルで定義されたメタデータを上書きします。

<img src="assets/pdf-metadata.png" alt="「メタデータ」タブ" width="600">

出力プリセットから、 **「 」PDFを選択** > **メタデータ** メタデータオプションを追加してカスタマイズするには：
* **XMPファイルを指定**

  メタデータフィールドは、 [XMP](https://www.adobe.com/products/xmp.html) （拡張可能なメタデータプラットフォーム）ファイル。 サンプルのXMPファイルは、こちらからダウンロードできます。

[ダウンロード](assets/SampleXMP.xmp)

  または、Adobe Acrobatを使用してXMPファイルを生成できます。
   1. クリック **ファイル** > **プロパティ** Acrobatで
   1. の下 **説明**&#x200B;をクリックし、 **追加のメタデータ**.
   1. 左のパネルから、「 」を選択します。 **詳細**.
   1. 「**保存**」をクリックします。

  XMPファイルがデバイスに保存されます。

* **メタデータの名前と値を指定します**

   1. 名前を追加するには、ドロップダウンから選択するか、名前フィールドに直接入力してカスタムメタデータを追加します。
   1. メタデータの値を入力し、「+」アイコンをクリックします。
メタデータがPDFのメタデータのリストに追加されます。

変数を使用してメタデータ値を定義することもできます。  DITA マップまたはブックマップファイル用に定義されたメタデータを変数として使用できます。 メタデータは、 `/jcr:content/metadata` DITA マップまたはブックマップファイルのノード。
変数を使用する場合、その値はメタデータプロパティから取得されます。

変数を使用するには、変数を `${<variable>}` 形式を使用します。

例えば、 /で定義されたメタデータプロパティの 1 つ。`jcr:content/metadata` ノードが
`dc:title`. 次を指定できます。 `${dc:title}`の場合は、最終出力で title 値が使用されます。

1 つの変数または変数の組み合わせを使用して、メタデータを定義できます。 例：`${dc:title} ${dc:docstate}`。変数と文字列の組み合わせを使用することもできます。  例：`View ${dc:title} in ${dc:language}`。

言語変数を使用して、メタデータプロパティのローカライズされた値を定義します。 選択した言語に応じて、ローカライズされた値がPDF出力で自動的に選択されます。 例えば、「Author」をメタデータ値として英語で、「Autorin」をドイツ語で印刷できます。

形式： `${lng:<variable name>}`. 例： `${lng:author-label}` 場所 `author-label` は言語変数です。

カーソルを合わせる <img src="./assets/info-details.svg" alt= "情報アイコン" width="25"> 」をクリックします。


**レイアウト**

を使用してページレイアウトを設定し、ページ表示やズームレベルの設定などのPDF出力のページビューオプションを指定します。

| 設定 | 説明 |
| --- | --- |
| **PDFテンプレート** | PDFテンプレートは、ページレイアウトの定義、コンテンツのスタイル設定の定義、様々な設定のPDF出力への適用をおこなうための明確な構造を提供します。 「PDFテンプレート」ドロップダウンオプションから「 」を選択し、目的のテンプレートを選択します。 <br> また、 **テンプレートを参照** <img src="./assets/browse-templates-icon.svg"  alt= "テンプレートを参照アイコン" width="25">  をクリックして、テンプレートを選択します。 Adobe Analytics の **テンプレートPDFを選択** ダイアログでは、サムネールをプレビューし、選択したテンプレートのタイトルと説明を表示することもできます。 |
| **ページ表示** | ページ表示を使用して、ページを開いたときにPDFがどのように表示されるかを示します。 「ページ表示」ドロップダウンオプションから「 」を選択して、希望するビューを選択します。 <br><ul><li> **デフォルト**  ユーザーのマシン上のPDF・ビューアのデフォルト設定に従って表示されます。  <br> <li> **単一ページビュー** 一度に 1 ページずつ表示します。   <br> <li> **単一ページスクロール** 1 ページを縦の連続した列に表示します。  <br> <li> **2 ページビュー** 見開き 2 ページを並べて表示します。.<br> <li> **2 ページスクロール** 2 ページの見開きを横に並べて表示し、連続してスクロールします。 </ul> |
| **ズーム** | ページビューを開いたときのPDFの表示方法を示すページビューのサイズを変更する場合に選択します。  <br><ul><li> **デフォルト** ユーザーのマシン上のPDF・ビューアのデフォルト設定に従って表示されます。    <br> <li> **100%** ページを実際のサイズで表示します。     <br> <li> **全体表示** ページの幅と高さを、文書ウィンドウ内に収まるようにします。.<br> <li> **ページの幅に合わせる** ページの幅をドキュメントウィンドウの幅に合わせます。  <br> <li> **ページの高さに合わせる** ページの高さを文書ウィンドウの高さに合わせます。 </ul> |

**セキュリティ**

PDFをProtectし、ファイルを開いて読み取るための制限を追加します。 不正なアクセスを避けるには、次のオプションを使用します。

| 設定 | 説明 |
| --- | --- |
| **ドキュメントを開くためのパスワードを設定** | 「 」を選択し、安全なパスワードを追加して、PDFファイルを表示します。 パスワードを **ユーザーのパスワード** フィールドに入力します。 ユーザーは、このフィールドにPDFを入力した場合にのみ、パスワードを開くことができます。 |
| **ドキュメントの制限を設定する** | を選択して、ユーザーとのやり取りを制限します。PDF。 パスワードを **所有者のパスワード** 以下の制限設定が機能するためのフィールド。  <br><ul><li> **印刷中** ユーザーがPDFを印刷できるようにする場合に選択します。 <br> <li> **下書き品質印刷** ユーザーが低い解像度でPDFを印刷できるようにする場合に選択します。  <br> <li> **コンテンツのコピー** ユーザーがコンテンツをPDFからコピーできるようにする場合に選択します。   <br> <li> **注釈** ユーザーがメモやコメントを追加することを許可する場合に選択します。PDF  <br> <li> **コンテンツの変更** ユーザーがPDF内のコンテンツを変更できるようにする場合に選択します。  <br> <li> **アクセシビリティのためのコンテンツのコピー** スクリーンリーダーがコンテンツを読み取り、ナビゲーションできるようにする場合に選択します。PDF。  <br>  **ドキュメントアセンブリ** ユーザーがページを挿入できるようにする場合に選択します。PDF。  <br> **注意**：ユーザーは、Adobe Acrobatのファイル/プロパティで制限を変更するために、所有者のパスワードを入力する必要があります。 |

**詳細**

次のオプションを使用して、PDFの結合、圧縮の使用、準拠規格の選択などの詳細設定を指定します。

| 設定 | 説明 |
| --- | --- |
| **アクセシブル（タグ付き）PDFを作成** | タグ付きのPDFを生成するには、このオプションを選択します。 タグ付きPDFを使用すると、スクリーンリーダーがコンテンツ、ハイパーリンク、しおりなどを読み取り、移動しやすくなります。 例えば、テーブルにタグが付けられている場合、スクリーンリーダーは、テーブルが行やテキストだけでなく、テーブルを読み上げていることを認識します。 |
| **目次に含まれるPDFを結合** | 既存のPDFをリソースファイルとして DITA マップに追加して出力にマージするには、このオプションを選択します。 PDFはマップ内で表される場所に挿入され、それに従ってページが増分されます。 |
| **使用するフォントを埋め込む** | エンドユーザーのコンピューターにインストールされていない可能性のあるフォントを使用する場合は、このオプションを選択します。 このオプションを選択すると、使用しているPDFがPDFに埋め込まれ、フォントがコンピューターにインストールされていなくても、ユーザーが意図したとおりにフォントを表示できるようになります。 <br> **注意**：フォントは、埋め込みを許可しているフォントベンダーの設定が含まれている場合にのみ、埋め込むことができます。 フォントを埋め込む前に、必要な設定またはライセンスを持っていることを確認してください。 |
| **自動ハイフネーションを使用する** | 自動ハイフネーションを有効にすると、行末の単語がハイフンを使用して文法的に修正されます。 |
| **JavaScript を有効にする** | PDFを生成する前に、コンテンツを動的に変換するために使用する JavaScript コードがある場合は、このオプションを有効にします。 |
| **マルチメディアファイルを埋め込む** | 任意のオーディオ、ビデオ、および任意のインタラクティブコンテンツをPDFに含める場合は、このオプションを選択します。 |
| **完全圧縮を使用してPDFサイズを最適化** | 大きなPDFのサイズを圧縮または縮小する場合は、このオプションを選択します。 PDFを圧縮すると、ファイルの品質が低下する場合があります。 |
| **画像の圧縮を使用して画像サイズを最適化するPDF** | PDFで使用する画像のサイズを圧縮または縮小する場合は、このオプションを選択します。 画像を圧縮すると、画質が低下する場合があります。 |
| **カスタム解像度を使用（ピクセル/インチ）** | これは、1 インチあたりのピクセル単位でのページ表示解像度です。 このオプションを選択した場合に表示されるフィールドに、希望の値を入力します。 デフォルト値は、96 ピクセル/インチです。 値を大きくすると、より多くのコンテンツが 1 インチに収まり、小さくすると、その逆になります。 |
| **透かしを表示** | 出力に透かしを重ね合わせるには、このオプションを選択します。 テキストボックスに、必要に応じて大文字と小文字を区別して新しいテキスト文字列を入力できます。 <br><br>静的テキストまたは言語変数を使用して、透かしのローカライズ版を公開します。  選択した言語に応じて、ローカライズされた値がPDF出力で自動的に選択されます。 例えば、「発行者」を透かしとして英語で、「自動」をフランス語で印刷できます。  <br> 形式： `${lng:<variable name>}`. 例： `$ {lng:publisher-label}` 場所 `publisher-label` は言語変数です。 <br> カーソルを合わせる <img src="./assets/info-details.svg" alt= "情報アイコン" width="25"> 」をクリックします。 |
| **MathML 式を有効にする** | コンテンツに存在する MathML 式をレンダリングするには、このオプションを選択します。 式は、それ以外の場合はデフォルトで無視されます。 |
| **一時ファイルをダウンロード** | ネイティブHTML出力の生成時に作成された中間PDFファイルをダウンロードする場合は、このオプションを選択します。 出力の生成後に、後で一時ファイルをダウンロードすることができます。 |
| **PDF適合** | これは、PDFが準拠していることを確認するために、ユーザーが保存する標準です。 ドロップダウンから「 」を選択して、使用可能なPDF標準のリストから選択します。 サポートされる標準の詳細については、 [PDF標準について](https://helpx.adobe.com/acrobat/using/pdf-conversion-settings.html#about_pdf_x_pdf_e_and_pdf_a_standards). |
| **ファイルのプロパティ** | メタデータとして処理するプロパティを選択します。 ドロップダウンには、カスタムプロパティとデフォルトプロパティの両方が一覧表示されます。 これらのプロパティは、DITA マップまたはブックマップファイルのプロパティページから設定します。 設定が完了すると、これらのプロパティはマップ内のトピックにもコピーされます。 選択したメタデータのプロパティは、Native-Metadata を使用して生成された出力にPDFされます。 |

## PDF出力の生成 {#generate-pdf-output}

出力プリセットを設定したら、 **プリセットを生成** 機能。

1. の下 **作成者** タブで、 **リポジトリ** 表示。\
   リポジトリパネルが開きます。

1. リポジトリパネルで、DITA マップファイルを **マップビュー**.

1. Adobe Analytics の **出力** タブ、クリック **プリセット** をクリックして、プリセットパネルを表示します。
出力プリセットを作成または設定するには、 [PDF出力プリセットの作成](#create-output-preset).
1. 設定を保存するには、 **すべて保存** ![すべて保存](assets/SaveFloppy_icon.svg) 出力ビューの標準ツールバーの左上隅にあるアイコン。
1. 次をクリック： **プリセットを生成** ![プリセットを生成](assets/generate-output.svg) アイコンをクリックします。
出力プリセットパネルで、選択した出力プリセットの横に進行状況バーを表示できます。
1. 出力の生成が完了したら、「  **出力を表示** ![出力を表示](assets/view-output.svg) アイコンをクリックして、出力を表示します。\
   A **成功** ダイアログボックスは、画面の右下隅に表示されます。
出力が成功しなかった場合は、次のエラーメッセージが表示されます。
<img src="assets/error-log.png" alt="エラーログ" width="250">

エラーログを表示するには、 **解除**&#x200B;をクリックし、選択した「プリセット」タブにマウスポインターを置いて、 ![options](assets/options.svg) **オプション** > **ログを表示**.

### ネイティブファイル出力の生成後に一時ファイルをPDFする

次を選択した場合、 **一時ファイルをダウンロード** 「詳細設定」オプションでは、「ネイティブHTML」出力の生成時に作成された中間PDFファイルをダウンロードすることもできます。 出力を生成したら、 **一時ファイルをダウンロード** ![一時ファイルをダウンロード](assets/native-pdf-download-temporary-files-icon.svg)アイコンをクリックします。 この機能は、中間HTMLのスタイルとレイアウトを表示するのに役立ち、必要に応じて CSS スタイルを修正または変更するのに役立ちます。


>[!NOTE]
>
> The **一時ファイルをダウンロード**  ![一時ファイルをダウンロード](assets/native-pdf-download-temporary-files-icon.svg) アイコンは、 **詳細** タブをクリックします。



### 言語変数の使用

AEMガイドでは、言語変数もサポートしています。 選択 **言語変数** <img src="./assets/language-variables.svg" width="25">  左側のパネルで、標準ラベルのローカライズ版（「注意」、「注意」、「警告」、「静的テキスト」など）をPDF出力に定義します。 詳しくは、 [言語変数のサポート](../native-pdf/native-pdf-language-variables.md).

