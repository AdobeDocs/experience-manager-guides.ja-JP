---
title: カスタマイズしたテンプレートに基づいてマップを作成する
description: AEMガイドで、カスタマイズテンプレートを作成し、それらを使用して新しいマップファイルを作成し、定義されたタイトルを DITA マップに渡す方法を説明します。
exl-id: 9cb0035f-bf81-4ab5-a575-53851bbff494
feature: Authoring, Map Editor
role: User
source-git-commit: be06612d832785a91a3b2a89b84e0c2438ba30f2
workflow-type: tm+mt
source-wordcount: '1103'
ht-degree: 0%

---

# カスタマイズしたテンプレートに基づいてマップを作成する {#id225VF0808MP}

カスタマイズされたマップテンプレートを作成し、それを使用して、マップテンプレートで参照されるトピックテンプレートおよびマップテンプレートと共に DITA マップを作成できます

カスタマイズされたマップテンプレートから、他のマップテンプレートやトピックテンプレートを参照できます。 参照元のマップテンプレートは、様々なマップテンプレート、トピックテンプレート、トピック、マップ、画像、ビデオ、その他のアセットを参照できます。 カスタマイズされたマップテンプレートを使用すると、参照元のフォルダ構造全体とマップテンプレートを簡単に複製できます。 これらのカスタマイズされたテンプレートは、再帰構造と参照を持つ複数のマップを作成および再作成する場合に特に便利です。

>[!NOTE]
>
> トピックテンプレートは再帰的に作成されません。 マップテンプレート内に直接あるトピックテンプレートのみが生成され、トピックテンプレート内の任意のトピックテンプレートが親で直接参照されるだけです。

## カスタマイズしたテンプレートの作成

AEMガイドを使用すると、dita-templates フォルダーからカスタマイズしたマップとトピックを作成できます。 これらのカスタマイズされたテンプレートを使用して、マップとトピックを作成できます。 また、作成者とこれらのテンプレートを共有し、それらを使用してファイルを作成することもできます。 これらのテンプレートを使用すると、作成者は、テンプレートフォルダー内にある特定のリソースのコピーを別々に保持できます。

>[!NOTE]
>
> をまたいで参照および維持するだけのリソースは、templates フォルダーの外に保持する必要があります。


マップおよびトピックテンプレートは、次の方法で作成できます。
1. Adobe Analytics のテンプレートパネル [左パネル](./web-editor-features.md#left-panel-id2051ea0m0hs)
1. [Assets UI のテンプレート](#templates-assets-ui)
1. [オプションメニュー](#templates-in-assets-ui)

### Assets UI のテンプレート {#templates-assets-ui}

**トピックテンプレート**

トピックテンプレートを作成するには、次の手順を実行します。

1. Adobe Analytics の **Assets UI**&#x200B;をクリックし、dita-templates フォルダーに移動します。

   ![](images/dita-templates.png){width="800" align="left"}

1. クリック **トピック** フォルダを開いて開きます。 **\> DITA テンプレートの作成**.
1. ブループリントページで、「 」を選択します。 **トピック** 次に、「 **次へ。**
1. プロパティページで、トピックテンプレートを指定します。 **タイトル**.
1. ファイルを指定 **名前**

   >[!NOTE]
   >
   > ファイル名の拡張子は.dita にする必要があります。

1. \（オプション\）説明を追加します。
1. 「**作成**」をクリックします。作成されたトピックテンプレートのメッセージが表示されます。 その後、トピックテンプレートを開いて編集できます。

**マップテンプレート**

マップテンプレートを作成するには、次の手順を実行します。

1. Adobe Analytics の **Assets UI**&#x200B;をクリックし、dita-templates フォルダーに移動します。
1. クリック **マップ** フォルダーを開いて開きます。
1. クリック **\> DITA テンプレートを作成します。**

   ![](images/create-dita-template.png){width="300" align="left"}

1. ブループリントページで、「 」を選択します。 **マップ** をクリックします。 **次へ**.
1. プロパティページで、マップテンプレートを指定します。 **タイトル**.
1. ファイルを指定 **名前**.

   >[!NOTE]
   >
   > ファイル名の拡張子は.ditamap にする必要があります。

1. （オプション）説明を追加します。 **作成**. 作成されたマップテンプレートのメッセージが表示されます。 その後、マップテンプレートを開いて編集できます。 トピックテンプレート、マップテンプレート、およびマップテンプレート内の他のアセットの参照を追加できます。

### オプションメニュー {#options-menu}

マップまたはトピックテンプレートを作成するには、次の手順を実行します。

1. を選択します。 **マップ** または **トピック** 現在のテンプレートフォルダー内のフォルダー。 例：`dita-templates` フォルダー。
1. 次から： **オプション** メニュー、選択 **マップテンプレートを作成** または **トピックテンプレートを作成**.

   The **新しいマップテンプレートを作成** または **新しいトピックテンプレートの作成** ダイアログが開きます。
1. 新しいテンプレートのタイトルと名前を入力します。
1. 作成するテンプレートのタイプを **テンプレート** 」ドロップダウンリストから選択できます。

作成されたマップテンプレートのメッセージが表示されます。 テンプレートは、グローバルプロファイルまたはフォルダーレベルのプロファイルに追加できます。 新しいテンプレートがトピックまたはマップの作成プロセスに表示され、それを使用してマップまたはトピックを作成できます。


管理者は、フォルダーを作成して、テンプレートを作成および保存できるフォルダーに設定することもできます。

設定に基づいて、カスタム DITA テンプレートのフォルダーパスを設定する方法を学びます。
<details>
    <summary> Cloud Services </summary>

方法を学ぶ [カスタム DITA テンプレートフォルダーパスの設定](../install-guide/conf-template-tags-custom-dita-topic-template.md#configure-custom-dita-template-folder-path-id191lcf0095z) (『Cloud Serviceのインストールと設定ガイド』) を参照してください。
</details>

<details>
    <summary> オンプレミスソフトウェア</summary>

方法を学ぶ [カスタム DITA テンプレートフォルダーパスの設定](../cs-install-guide/conf-template-tags-custom-dita-topic-template.md#configure-custom-dita-template-folder-path-id191lcf0095z) （『オンプレミスのインストールと設定ガイド』）を参照してください。
</details>

## テンプレートで定義されたタイトルを渡します。

テンプレート内で使用されるトピックまたはマップのタイトルを、そのテンプレートを使用して作成される DITA マップに渡す場合は、タイトルの周囲で波括弧を使用します。

例

```XML
<pubtitle>
   <mainpubtitle outputclass="booktitle">
   {title}
   </mainpubtitle>
   <subtitle>Subtitle</subtitle>
</pubtitle>

The resultant DITA map with title "Rootmap1" will look like as follows:
<pubtitle>
   <mainpubtitle outputclass="booktitle">Rootmap1
   </mainpubtitle>
   <subtitle>Subtitle</subtitle>
</pubtitle>
```

>[!NOTE]
> 中括弧の 1 番目の値のみがタイトルに置き換えられます。

タイトルの周囲に波括弧を使用しない場合、結果の DITA マップは最初の要素のみが選択され、タイトルのネストはテンプレートから選択されず、次のようになります。

```XML
<pubtitle> Rootmap1 </pubtitle>
```

>[!NOTE]
> テキストの周囲で波括弧を使用して、カスタムテンプレートから DITA マップにネストされた構造を渡すこともできます。

例

```XML
<title>    
    <sub>        
        <b>{title}</b>    
    </sub>
</title>
```




## マップテンプレートを使用して新しいマップを作成する

>[!NOTE]
>
> マップテンプレートは、管理者が設定し、オーサリング用に使用できるようにする必要があります。 詳しくは、 *オーサリングテンプレートの設定* の節を参照してください。Adobe Experience Managerガイドのインストールと設定にas a Cloud Service。

カスタムマップテンプレートを使用してマップを作成するには、次の手順を実行します。

1. Adobe Analytics の **Assets UI、** マップを作成するフォルダーに移動します。
1. クリック **\> DITA マップの作成**.
1. ブループリントページで、使用するマップテンプレートを選択し、 **次へ**. たとえば、マップテンプレート「test-template」を作成した場合は、そのテンプレートを選択します。
1. プロパティページで、マップを指定します。 **タイトル**.
1. ファイルを指定 **名前**.

   >[!NOTE]
   >
   > ファイル名の拡張子は.ditamap にする必要があります。

1. 「**作成**」をクリックします。作成されたマップのメッセージが表示されます。


マップは、テンプレートフォルダー内で参照されるすべてのアセットを生成します。 マップで参照されるアセットの一部のタイプは、次のようになります。

- マップにトピックテンプレートへの参照が含まれている場合、そのコピーがフォルダ内のトピックフォルダ内と同じ階層で作成されます。 `dita-templates` フォルダー。
- マップにマップテンプレートへの参照が含まれている場合、そのコピーがフォルダ内で、内の maps フォルダ内と同じ階層で作成されます。 `dita-templates` フォルダー。
- マップに、トピックまたはマップへの汎用参照が含まれている場合は、 `dita-templates/topics` または `dita-templates/maps` 同じものが参照されるだけで、コピーは作成されません。

  >[!NOTE]
  >
  > `dita-templates/topics` および `dita-templates/maps` は、ガイドのデフォルトのパスで、設定可能です。


  マップテンプレート内にトピックテンプレートキー定義がある場合は、新しいキー（したがって新しいトピック）が作成され、マップ内で参照されます。

- フォルダー内の同じレベルに別のマップまたはトピックが作成されている場合、新しく作成されたアセットの名前には 0、1、2 などが追加されます。 マップを開いて編集したり、リポジトリにマップファイルを保存したりできます。

**親トピック：**[&#x200B;マップエディタを使用する](map-editor.md)
