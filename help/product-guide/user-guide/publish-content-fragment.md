---
title: コンテンツフラグメントへのトピックの公開
description: AEM Guides のコンテンツフラグメントにトピックまたはトピック内の要素を公開する。  トピックのコンテンツフラグメントを表示して再公開する方法を説明します。
exl-id: b1769e48-d721-4e93-b10f-04b385272be7
feature: Publishing
role: User
source-git-commit: 7c7e3dcddf733793a5d6db50205ba60d24702451
workflow-type: tm+mt
source-wordcount: '925'
ht-degree: 1%

---

# コンテンツフラグメントの公開

コンテンツフラグメントは、Adobe Experience Managerの個別のコンテンツです。 コンテンツモデルに基づく構造化コンテンツです。 コンテンツフラグメントは、デザイン情報やレイアウト情報を含まない純粋なコンテンツです。 これらは、Adobe Experience Manager がサポートするチャネルとは独立して作成および管理できます。 コンテンツフラグメントはモジュール型で、コンテンツは小さなコンポーネントに分割されます。

Adobe Experience Manager ガイドを使用すると、トピックまたはトピック内の要素をコンテンツフラグメントに公開できます。 トピックとコンテンツフラグメントモデルの間に JSON ベースのマッピングを作成できます。 このマッピングを使用して、トピックまたはトピック内の要素をコンテンツフラグメントに公開します。 その後、任意のAdobe Experience Manager サイトでコンテンツフラグメントを使用するか、コンテンツフラグメントでサポートされている API を使用して詳細を抽出できます。


コンテンツフラグメントを作成するには、次の手順を実行します。

1. を作成 [コンテンツフラグメントモデル](https://experienceleague.adobe.com/docs/experience-manager-65/assets/content-fragments/content-fragments-models.html?lang=ja) Adobe Experience Manager Assetsで。
1. コンテンツフラグメントモデルに基づいて作成するコンテンツフラグメントを保存するフォルダーを作成します。 例えば、「stock-content-fragments」と指定します。
1. フォルダーのプロパティ（「stock-content-fragments」など）を編集して、クラウド設定のコンテンツフラグメントモデルを含むフォルダーのパスを追加します。
例えば、 `/conf/we-retail` クラウド設定で上書きできます。 この設定により、すべてのコンテンツフラグメントモデルがフォルダーに接続されます。\
   ![フォルダープロパティにクラウド設定の詳細を追加する](images/fragment-folder-cloud-configuration.png){width="650" align="left"}
   *フォルダーのプロパティにクラウド設定を追加して、フラグメントモデルと接続します。*

1. コンテンツフラグメントを生成するには、次を選択します。 **新規出力** ![新規出力アイコン](./images/Add_icon.svg) から **出力** セクション： **ファイルのプロパティ** （トピック）。
1. を選択 **コンテンツフラグメント**.\
   ![[ ファイル プロパティ ] の [ オプション ] タブ](./images/file-properties-outputs-tab.png){width="300" align="left"}

   *トピックのファイルプロパティから新しいコンテンツフラグメントを追加します*.

1. が含まれる **コンテンツフラグメントを生成** ダイアログボックスで、次の詳細を入力します。
   ![コンテンツフラグメントとして公開ダイアログで、フラグメントモデルとマッピングの詳細を追加します](images/content-fragment-publish.png){width="500" align="left"}
   *パス、モデル、マッピングの詳細を追加して、トピックまたはその要素をコンテンツフラグメントとして公開します。 既存のコンテンツフラグメントを上書きできます。*

   >[!NOTE]
   >
   >コンテンツフラグメントは、 **リポジトリ表示**. コンテンツフラグメントとして公開するトピックを選択します。 次に、 **オプション** メニュー、選択 **次として公開** > **コンテンツフラグメント**.

   * **パス**：コンテンツフラグメントを公開するフォルダーのパスを参照して選択します。 既存のコンテンツフラグメントを選択すると、マッピングされたフィールドのコンテンツが上書きされます。
   * **タイトル**：コンテンツフラグメントのタイトルを入力します。 デフォルトでは、タイトルにはトピックのタイトルが入力されています。 編集できます。 このタイトルは、コンテンツフラグメントの名前を生成するために使用されます。
   * **名前**：コンテンツフラグメントの名前を入力します。 デフォルトでは、名前にはトピックのタイトルが設定され、スペースは「_」に置き換えられます。 例： *sample_content_fragment*. 編集できます。  この名前は、コンテンツフラグメントの URL の生成に使用されます。
   * **モデル**：コンテンツフラグメントの作成に使用するコンテンツフラグメントモデルを選択します。 モデルは、クラウドサービスで設定したフォルダーから選択されます。
   * **マッピング**：ドロップダウンからマッピングを選択します。 以下からマッピングが選択されます。 *contentFragmentMapping.json* ファイル。



     管理者は、以下にマッピングを追加できます *contentFragmentMapping.json* ファイル。 の方法の詳細情報 [トピックとコンテンツフラグメント間のマッピングの作成](../cs-install-guide/conf-content-fragment-mapping-cs.md) （インストールおよび設定ガイド）を参照してください。

   * また、様々な条件を選択してコンテンツを公開することもできます。  次のいずれかのオプションを選択します。


      * **なし**：公開された出力に条件を適用しない場合は、このオプションを選択します。
      * **DITAVAL の使用**：出力を生成する DITAVAL ファイルを選択します。これには、特定のコンテンツが含まれます。 参照ダイアログを使用するか、ファイルパスを入力して、DITAVAL ファイルを選択できます。
      * **属性の使用**:DITA トピックで条件属性を定義できます。 次に、条件属性を選択して、関連するコンテンツを公開します。
     >[!NOTE]
     > 
     >条件は、トピックで条件属性が定義されている場合にのみ有効になります。



   * を選択 **既存のコンテンツを上書き** コンテンツフラグメントが既に存在し、上書きしたい場合は、 このチェックボックスをオンにせず、コンテンツフラグメントが既に存在する場合、Experience Managerガイドにはエラーが表示されます。
1. クリック **Generate** コンテンツフラグメントを公開します。

1. トピックのコンテンツフラグメントは、の配下に表示されます **出力** セクション： **ファイルのプロパティ**.

   ![トピックのコンテンツフラグメントを表示する](images/outputs-options-menu.png){width="300" align="left"}

   *トピック用に存在するコンテンツフラグメントを表示し、再公開します。*


コンテンツフラグメントを公開すると、任意のAdobe Experience Manager サイトで使用することもできます。




## コンテンツフラグメントのオプションメニュー

また、コンテンツフラグメントに対して、次のアクションを **オプション** メニュー：

* **Generate**：コンテンツフラグメントを再公開して、DITA トピックの最新のコンテンツで更新します。 出力を再生成する場合、コンテンツフラグメントのパス、名前、タイトル、モデルおよびマッピングは変更できません。 ただし、出力の再生時に別の条件を選択できます。

* **複製**：コンテンツフラグメントを複製します。 パス、名前、タイトル、モデルおよびマッピングを変更できます。 コンテンツフラグメントを複製する際に、別の条件を選択することもできます。

* **削除**：出力リストからコンテンツフラグメントを削除します。 確認プロンプトが表示されます。 確認すると、コンテンツフラグメントが **出力** リスト。

  >[!NOTE]
  >
  > このアクションによってコンテンツフラグメントから削除されるコンテンツはありません。

* **表示**：コンテンツフラグメントエディターを表示します。 また、変更を加えて保存することもできます。


