---
title: ネイティブPDF |言語変数のサポート
description: 言語の出力および出力PDFでの言語変数の使用
exl-id: 2335a7d5-251b-4266-8bba-9c9935e7bbf4
source-git-commit: 5e0584f1bf0216b8b00f00b9fe46fa682c244e08
workflow-type: tm+mt
source-wordcount: '1589'
ht-degree: 0%

---

# 言語変数のサポート

AEMガイドでは、言語変数を使用する機能を提供しています。 言語変数を使用して、ローカライズされた文字列をPDF出力に定義したり、出力テンプレート内の静的テキストをローカライズしたりできます。 CSS スタイルを使用して、CSS からの文字列をローカライズすることができます。

## 言語出力でのPDF変数の使用

PDF変数を使用して、標準ラベルのローカライズ版（「注意」、「注意」、「警告」、「静的テキスト」など）を言語出力に定義できます。 変数名は、すべての言語で同じですが、様々な言語で異なる値を持つことができます。 これらの変数の値を 1 つ以上の言語で更新すると、ローカライズされた値がPDF出力で自動的に選択されます。

例えば、次の方法でラベルを表示できます `Note` PDF出力：

- 英語：注意

- フランス語：レマルケ

- ドイツ語：ヒンウェイス

<img alt= "言語変数を含むドキュメントへの出力" src="./assets/language-variable-output.png" width="550">

*英語、フランス語、ドイツ語のサンプルノートです。*

>[!NOTE]
>
> 任意の変数の値が特定の言語で定義されていない場合、AEMガイドは UI（アプリケーションのユーザーインターフェイス）の言語から文字列をフォールバックメカニズムとして選択します。
>
> UI の言語で値を定義していない場合、英語 (`en_us`)、または English(`en`) の値を指定し、同じ値をPDF出力に表示します。

## 言語変数のタイプ

AEMガイドでは、アプリケーション変数とユーザー変数の 2 種類の変数がサポートされています。

### アプリケーション変数

AEMガイドには、事前定義済みまたは標準のアプリケーション変数のセットが用意されています。 これらの定義済みの変数を使用して、AEMガイド専用のドキュメントに関する情報を追加できます。 例えば、 `chapter-number` 変数は、ページに含まれている場合、ページが属するチャプター番号を表示します。 The `author-label` 変数は、ドキュメント作成者の名前を表示します。

>[!NOTE]
>
> アプリケーション変数の値を上書きできます。


### ユーザー変数

また、新しい言語変数を作成することもできます。 例えば、ドキュメントの発行者のラベルに対して、ユーザー変数 Publisher を作成できます。

>[!NOTE]
>
>  ユーザー変数を作成し、アプリケーション変数を編集するための管理者権限が必要です。

<img alt="ランジアル変数ウィンドウ" src="./assets/add-language-variables.png" width="550">

*選択した言語の言語変数を追加および表示します。*

## 新しい言語変数を追加

1. Web エディターで、「出力」タブに移動します。
1. 選択 **言語変数** <img src="./assets/language-variables.svg" width="25"> をクリックします。
1. 選択 **編集** 開く **言語変数** ウィンドウ 選択した言語に存在するアプリケーションとユーザー変数が、アルファベット順に表示されます。 値は、選択した言語に従って表示されます。 例えば、フランス語を選択すると、「ヒント」は「領事」と表示されます。
1. 次から： **言語** ドロップダウンで、変数を編集する言語を選択します。

   >[!NOTE]
   >
   > 目的の言語を表示しない場合は、 **言語変数設定**. 設定を選択 <img src="./assets/settings-icon.svg" width="25">  開く **言語変数設定** ダイアログ。

1. 変数名を **名前** 列とその値を **値** 列。

   >[!NOTE]
   >
   >任意のHTMLコンテンツを変数値として使用して、変数値を特定の形式で表示できます。 例えば、 `<b>` タグを変数値に追加して、投稿を太字で表示します。

1. 選択 **言語変数を追加** <img src="./assets/add-language-variable.svg" width="25"> をクリックして、選択した言語に新しい言語変数を追加します。 1 つの言語に変数を追加すると、その変数がすべての言語に自動的に追加されます。 既存の変数と同じ名前の変数を作成することはできません。 エラーが表示されます。

>[!NOTE]
>
> 次を選択しない場合、 **言語変数を追加**&#x200B;の場合、変数は作成されず、リストに追加されません。

## 言語変数のエクスポートとインポート

Experience Managerガイドは、選択した言語で存在する言語変数の書き出しと読み込みをサポートします。 すべての言語変数を、定義された値と共に簡単にエクスポートできます。 これには、アプリケーション変数とユーザー変数の両方が含まれます。 書き出したファイルを使用して、必要な値を変更するか、他の言語にローカライズします。

また、言語変数を含む XML ファイルをインポートすることもできます。 Experience Managerガイドでは、application 変数と user 変数の両方を含む、既に定義された言語変数のみをインポートします。 まだ定義されていない変数はインポートされません。

### 言語変数のエクスポート

言語の言語変数をエクスポートするには、ドロップダウンから言語を選択し、 **書き出し** <img src="./assets/language-variable-export-icon.svg" alt="書き出しアイコン" width="25">.
形式を持つ XML ファイルを作成します。 `language_variable_<ln>` 場所 `<ln>` は、選択した言語のコードです。 例： `language_variable_en.xml` （英語の場合）および `language_variable_fr.xml` フランス語に対して。

>[!NOTE]
> 
>言語変数に未保存の変更がある場合は、それらをエクスポートできません。 変更を保存して、有効な **書き出し** <img src="./assets/language-variable-export-icon.svg" alt="インポートアイコン" width="25"> アイコン。

### 言語変数のインポート

言語変数をインポートするには：

1. ドロップダウンから言語を選択し、「 」を選択します。 **インポート** <img src="./assets/language-variable-import-icon.svg" width="25">。
2. 言語変数を含む XML を参照して選択します。 例えば、 language_variable_en.xml のように指定します。
XML ファイルは、次の形式でインポートできます。

```
<?xml version="1.0" encoding="UTF-8"?>
<variables>    
<variable id="note-important">Important: </variable>    
<variable id="note-caution">Avertir: </variable>    
<variable id="image-with-text">Text and image &lt;img src=&quot;/content/dam/assets/images/image_with_text.png&quot; /&gt; </variable> 
</variables> 
```

同じ ID を持つ変数は、ファイルをインポートするとインポートされます。 選択した言語の変数の値が、XML ファイルの変数で更新されます。  更新された変数の数に関するメッセージが表示されます。

>[!NOTE]
> 
><ul><li>ファイルが XML ファイルでない場合、または言語変数にマッピングされない誤った形式がファイルに含まれている場合は、XML ファイルに問題があるというエラーが表示されます。 
&gt;<li>ファイルに同じ ID の変数が含まれていない場合は、インポートしたファイルで一致する言語変数が見つからないことを示す警告が表示されます。

### 言語変数のオプション

変数の上にマウスポインターを置くと、 **オプション** メニューに表示されます。

<img width="550" alt="言語変数のオプションメニュー" src="./assets/language-variable-user-options.png">

*以下を使用します。**オプション**メニューを使用して、言語変数を削除、プレビューまたは複製できます。*

アプリケーション変数とユーザー変数の両方をプレビューできます。 変数の値が出力でどのように表示されるかを確認するには、 **プレビュー** から **オプション** メニューに表示されます。
また、 **削除** または **複製** ユーザー変数。 1 つの言語から変数を削除すると、すべての言語から自動的に削除されます。

### アプリケーション変数を編集または元に戻します

また、アプリケーション変数の値を編集することもできます。 後で、アプリケーション変数を元の値に戻すことができます。 **変数を元に戻す** <img src="./assets/application-variable-revert.svg" width="25">  は、変更された値を持つアプリケーション変数用に表示されます。

## 出力テンプレートでの言語変数の使用

言語変数は、ローカライズされたドキュメントに追加する必要があります。 ローカライズされたドキュメントの異なるページに表示されるページレイアウト内にこれらの言語変数を挿入できます。 例えば、 `author-name` ページレイアウトのヘッダー領域（またはフッターや本文などのその他の部分）に表示されます。



<img alt="pdf のページレイアウト" src="./assets/language-variable-page-layout.png" width="550">


*フランス語用に生成されたPDF出力にローカライズされた作成者とブランド名。*

次のように言語変数を挿入するには `copyright-label` ヘッダー領域で、次の手順を実行します。

1. 必要なページレイアウトを編集用に開きます。

   >[!NOTE]
   >
   > 表示 [ページレイアウトのカスタマイズ](../native-pdf/components-pdf-template.md#customize-a-page-layout-customize-page-layout) ページレイアウトを開いてカスタマイズまたは編集するためのセクション。

1. 変数の挿入をアクティブにするには、ヘッダーを選択します。
1. 選択 **変数を挿入**  <img src="./assets/insert-language-variable.svg" width="25"> 」と入力します。
1. Adobe Analytics の **変数を挿入** ポップアップで、挿入する言語変数の名前を選択し、 **挿入** をクリックして、ヘッダー領域に挿入します。

   >[!NOTE]
   >
   > また、テキストボックスに検索文字列を入力することもできます。 指定された文字列を含む変数名がフィルタリングされ、リストに表示されます。
   > 選択した言語変数がヘッダー領域に挿入されます。



<img alt="ヘッダー領域に変数を挿入" src="./assets/language-variable-header.png" width="550">

*The `copyright-label` をヘッダー領域に追加しました。*

### 言語変数へのコンテンツスタイルの適用

HTML変数に割り当てた値に加えて、言語タグを使用して、変数値を特定の形式で表示することもできます。 例えば、 `publisher-label` 太字で

- 値のスタイルを書式設定するには、 <span> タグを使用します。 例えば、page-number 言語変数を使用して、ページ番号を英語のローマ数字フォーマットで表示し、他の言語の形式を指定できます。

  英語の値：
  `<span data-field="page-number" data-format="upper-roman">1</span>`

  タミルの値：
  `<span data-field="page-number" data-format="tamil">1</span>`

同様に、ページレイアウトの「フィールドの挿入」機能にリストされている他のフィールドに言語変数を追加し、書式を設定することができます。 フィールドの追加について詳しくは、 [フィールドとメタデータを追加](../native-pdf/design-page-layout.md#add-fields-metadata).

- 値にローカライズされた画像を追加することもできます。 例えば、chapter-number 言語で画像アイコンを追加し、そのアイコンのローカライズされた画像をPDF出力に取得できます。

  英語の場合、画像の変数値は次のようになります。 `<img src="banner-en.jpg">`ドイツ語の同じ変数の場合は、 `<img src="banner-de.jpg">`. 言語に応じて画像を取り出します

## CSS スタイルを使用した文字列のローカライズ

CSS スタイルを使用すると、章、セクション、図、表など、自動番号で使用される文字列をローカライズすることもできます。 これらの文字列は CSS ファイルから取得されるので、言語変数を使用してローカライズすることはできません。 これらの文字列をローカライズするには、ローカライズする各言語に対して CSS スタイルを作成します。
例えば、次の CSS を使用して、チャプターのプレフィックスと対応する数値の形式を様々な言語で表示できます。
例えば、次の CSS を使用して、チャプターをドイツ語で Hoofdstuk と表示し、チャプター番号を 10 進形式で表示できます。 日本語の場合は、日本語の数値書式を使用して、目次に章番号を表示できます。

```
// for English
h1:before {
  counter-increment: h11;
  content: "Chapter " counter(h11, decimal)".";
}

// for German
:root:lang(de) h1:before {
  content: "Hoofdstuk " counter(h11, decimal)".";
}

// for Japanese
:root:lang(ja) h1:before {
  content: "章 " counter(h11, japanese-formal)".";
}
```

次のスクリーンショットは、ドイツ語と日本語のPDF出力にローカライズされた文字列を表示します。

<img alt=" 言語変数を使用した日本語出力" src="./assets/localize-chapter-german.png" width="550">



<img alt="言語変数を使用したドイツ語の出力" src="./assets/localize-chapter-japanese.png" width="550">



### プレフィックスの書式設定

CSS スタイルを使用して、プレフィックスの形式を設定することもできます。 例えば、ラベルをフォーマットできます。 `Note` 様々な言語のPDF出力で赤色で表示される。

```
.note .prefix-content 
{
color: red;
} 
```
