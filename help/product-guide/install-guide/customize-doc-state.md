---
title: ドキュメントの状態の設定
description: ドキュメントの状態を設定する方法を学ぶ
exl-id: d7603b4e-aae4-48ca-be84-8edb51626405
feature: Document State
role: Admin
level: Experienced
source-git-commit: 0513ecac38840a4cc649758bd1180edff1f8aed1
workflow-type: tm+mt
source-wordcount: '1131'
ht-degree: 0%

---

# ドキュメントの状態の設定 {#id181GB0400UI}

AEM Guidesでは、組織の要件に応じて DITA トピックの文書状態を定義できます。 最初から最後まで、ドキュメントの様々な状態を定義できます。 例えば、最初の状態はドラフトで、レビュー、承認、翻訳済みに移動し、最後に公開済みに移動できます。

トピックがある状態から別の状態に移行する方法には、手動と自動の 2 つがあります。 プロファイルで定義されたドキュメント状態は、ドキュメント状態を手動で変更する場合に使用できます。 これは、トピック ファイルのプロパティ ページから実行できます。 また、ドキュメントをある状態から別の状態に移動できるユーザーを定義することもできます。 例えば、作成者がドキュメントを作成し、ドキュメントのデフォルト状態をドラフトに設定できます。 作成者がレビュー用にドキュメントを送信すると、ドキュメントの状態をレビュー中に変更できます。 レビュー担当者は、レビュープロセスに基づいて、ドキュメントの状態を承認済みまたはドラフトに再度変更することができます。 ドキュメントが承認済みの場合、発行者はワークフローに応じてドキュメントの状態を翻訳済みまたは公開済みに変更できます。

>[!NOTE]
>
> ユーザーが *administrators* グループに属している場合、ユーザーは、システムで定義されているドキュメントの状態トランジションに関係なく、任意の状態からドキュメントの状態を変更できます。

## ドキュメント状態の作成

AEM Guidesには、デフォルトの一連のドキュメント状態が付属しています。 これらの状態は次のとおりです。

- ドラフト
- 編集
- レビュー中
- 承認済み
- 確認済み
- 完了

これらのデフォルトの状態は、DAM で作成されたすべての DITA トピックで使用できます。 独自のドキュメント状態を作成して、特定のフォルダーに割り当てることができます。 そのフォルダの下に作成されたすべての DITA ファイルは、新しく作成された文書ステートにアクセスできます。

フォルダープロファイルを使用してドキュメント状態を作成するには、次の手順を実行します。

1. 上部の「Adobe Experience Manager」リンクをクリックし、「**ツール**」を選択します。
1. ツールのリストから **ガイド** を選択します。
1. 「ドキュメントの状態」タイルをクリックします。

   「Assetsの状態」ページが表示されます。 デフォルトでは、ページにデフォルトプロファイルが表示されます。

1. **プロファイルを作成** をクリックして、次の詳細を入力します。
   - 「プロファイル」フィールドにプロファイルの名前を入力します。
   - 新しいプロファイルを適用するパスを指定します。
   - ドキュメントの状態を **許可されている状態** で **状態** に指定します。 デフォルトのドキュメント状態は、ドラフト、編集、レビュー中、承認済み、完了です。

     「**追加** ボタンをクリックして、ドキュメントの状態を追加します。

      - ドキュメントの状態を削除するには、削除アイコンをクリックします。

     >[!NOTE]
     >
     > ドキュメントの状態がまだ残っている場合は、ドキュメントの状態を削除しないでください。 ドキュメントの状態を削除すると、*administrator* ユーザーグループに属していない限り、そのようなドキュメントのドキュメントの状態は変更できません。

   - ドキュメントの開始状態を **開始状態** で指定します。
   - ドキュメントの終了状態を **終了状態** で指定します。
   - ドキュメントの状態トランジションを **状態トランジション** で指定し、**状態トランジション** で **状態トランジション** で指定します。

      - ドキュメントの状態を変更できるユーザーおよびユーザーグループを **グループ** で指定します。

      - **追加** ボタンをクリックして、状態トランジションを追加します。

      - 状態のトランジションを削除するには、削除アイコンをクリックします。

     >[!NOTE]
     >
     > ドキュメントの状態がまだ続く場合は、状態トランジション `From` 削除しません。 状態の切り替えを削除すると、*administrator* ユーザーグループに属していない限り、そのようなドキュメントのドキュメントの状態は変更できません。

1. 「**完了**」をクリックします。

## ドキュメント状態プロファイルのコピーの作成

要件に応じて、既存のドキュメント状態プロファイルのコピーを作成できます。 このコピーを、別のドキュメントプロファイルを作成するためのベースとして使用できます。

ドキュメント状態プロファイルのコピーを作成するには、次の手順を実行します。

1. 上部の「Adobe Experience Manager」リンクをクリックし、「**ツール**」を選択します。
1. ツールのリストから **ガイド** を選択します。
1. 「ドキュメントの状態」タイルをクリックします。

   「Assetsの状態」ページが表示されます。

1. 複製するドキュメント状態プロファイルを選択し、「**プロファイルを複製**」をクリックします。
1. 必要な変更を加え、「完了 **をクリックし** す。

## ドキュメントの状態または状態の切り替えの削除

>[!NOTE]
>
> ドキュメントがまだ状態または状態の遷移にある場合は、ドキュメントの状態または状態の遷移を削除しないでください。 状態または状態の切り替えを削除した場合、*administrator* ユーザーグループに属していない限り、そのようなドキュメントのドキュメント状態は変更できません。

ドキュメント状態プロファイルからドキュメント状態または状態トランジションを削除するには、次の手順を実行します。

1. 上部の「Adobe Experience Manager」リンクをクリックし、「**ツール**」を選択します。
1. ツールのリストから **ガイド** を選択します。
1. 「ドキュメントの状態」タイルをクリックします。

   「Assetsの状態」ページが表示されます。

1. ドキュメント状態を削除するドキュメント状態のプロファイルを選択し、[**プロファイルを編集**] をクリックします。
1. ドキュメントの状態または状態のトランジションを削除し、「**完了**」をクリックします。

## ドキュメント状態プロファイルの削除

ドキュメント状態プロファイルを削除するには、次の手順を実行します。

1. 上部の「Adobe Experience Manager」リンクをクリックし、「**ツール**」を選択します。
1. ツールのリストから **ガイド** を選択します。
1. 「ドキュメントの状態」タイルをクリックします。

   「Assetsの状態」ページが表示されます。

1. 削除するドキュメント状態プロファイルを選択し、「**プロファイルを削除**」をクリックします。

## ドキュメントの状態の変更を自動化

ドキュメントの状態を手動で変更しない場合は、ワークフローを作成し、ドキュメントの状態の変更を自動化します。

>[!NOTE]
>
> 自動ワークフローは、設定で定義されたドキュメントの状態とトランジションに準拠している必要があります。 自動ワークフローを通じて行われた状態変更に対するチェックは実行されません。

ドキュメントの状態の変更を自動化するには、次の手順を実行します。

1. AEM サーバー URL からワークフローページを開きます。

   `<AEM_Server_URL>:<port>/workflow`

1. ワークフローページからワークフローを開きます。 例えば、「トピックをレビュー」などです。
1. AEM ダイアログの「**ワークフロー**」セクションから **プロセスステップ** を選択して、ワークフローにドラッグ&amp;ドロップします。

   ![](assets/process-step-workflow.png)

1. プロセスをダブルクリックして **ステップのプロパティ** ダイアログを開きます。
1. ダイアログの「**プロセス**」タブに次の詳細を入力して、「OK」をクリックします。
   - プロセス ドロップダウンから **任意の DAM アセットのドキュメント状態を設定** を選択します。
   - 「ハンドラー処理の設定」チェックボックスをオンにします。
   - ドキュメント状態の名前を「**引数**」テキストボックスに入力します。

     >[!NOTE]
     >
     > 「引数」テキストボックスに、正しいドキュメント状態を入力していることを確認します。 間違った名前を入力すると、ドキュメントは間違ったドキュメント状態に設定されます。

1. **保存** をクリックして、ワークフローを保存します。

## 承認ワークフローを有効にする

AEM Guidesには、ドキュメント開発プロセスのライフサイクルを制御するのに役立つドキュメント承認ワークフローが用意されています。 承認ワークフローを有効にするには、次の手順を実行します。

1. AEMにログインし、CRXDE Liteモードを開きます。

1. 次の場所にあるデフォルトの設定ファイルに移動します。

   `/libs/fmdita/clientlibs/clientlibs/xmleditor/ui_config.json`

1. デフォルトの設定ファイルのコピーを次の場所に作成します。

   `/apps/fmdita/xmleditor/ui_config.json`

1. に移動し、`apps` ノードの `ui_config.json` ファイルを開いて編集します。

1. `ui_config.json` ファイルで、次に示すように *features* セクションを変更して、承認ワークフロー機能を有効にします。

   ```json
   "features":  
   { 
      "approvalWorkflow":  true 
   }
   ```
