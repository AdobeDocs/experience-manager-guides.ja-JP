---
title: カスタマイズしたテンプレートに基づいてマップを作成する
description: カスタマイズしたテンプレートを作成し、それらを使用して新しいマップファイルを作成し、定義したタイトルをAEM Guidesの DITA マップに渡す方法について説明します。
feature: Authoring, Map Editor
role: User
hide: true
exl-id: 0f86ac98-7ba4-4e15-8a1f-83456afa7570
source-git-commit: 4801f0d327b4bd0641aa195d39ec2c4be2a2ce74
workflow-type: tm+mt
source-wordcount: '1103'
ht-degree: 0%

---

# カスタマイズしたテンプレートに基づいてマップを作成する {#id225VF0808MP}

カスタマイズしたマップ テンプレートを作成し、それを使用して、マップ テンプレートで参照されるトピック テンプレートおよびマップ テンプレートとともに DITA マップを作成できます

カスタマイズされたマップ テンプレートから、他のマップ テンプレートおよびトピック テンプレートを参照できます。 参照されるマップ テンプレートは、さまざまなマップ テンプレート、トピック テンプレート、トピック、マップ、イメージ、ビデオ、およびその他のアセットを参照できます。 カスタマイズされたマップ テンプレートを使用すると、マップ テンプレートおよび参照されているフォルダ構造全体を非常に簡単に複製できます。 これらのカスタマイズされたテンプレートは、再帰構造と参照を持つ複数のマップを作成および再作成する場合に特に便利です。

>[!NOTE]
>
> トピックテンプレートが再帰的に作成されない。 マップ テンプレート内に直接存在するトピック テンプレートのみが生成され、トピック テンプレート内のトピック テンプレートは単に親で直接参照されます。

## カスタマイズしたテンプレートの作成

AEM Guidesでは、dita-templates フォルダからカスタマイズされたマップとトピックを作成できます。 これらのカスタマイズされたテンプレートを使用して、マップとトピックを作成できます。 また、これらのテンプレートを作成者と共有し、作成者がテンプレートを使用してファイルを作成することもできます。 これらのテンプレートを使用すると、作成者は、templates フォルダー内にある特定のリソースのコピーを個別に保持できます。

>[!NOTE]
>
> 間でのみ参照および管理するリソースは、templates フォルダーの外部に保持する必要があります。


マップとトピックのテンプレートは、次の方法で作成できます。
1. [&#x200B; 左パネル &#x200B;](./web-editor-features.md#left-panel-id2051ea0m0hs) のテンプレートパネル
1. [Assets UI のテンプレート](#templates-assets-ui)
1. [オプションメニュー](#templates-in-assets-ui)

### Assets UI のテンプレート {#templates-assets-ui}

**トピック テンプレート**

次の手順を実行して、トピック・テンプレートを作成します。

1. **Assets UI** で、dita-templates フォルダーに移動します。

   ![](images/dita-templates.png){width="800" align="left"}

1. **topics** フォルダをクリックして開きます。**作成\> DITA テンプレート** をクリックします。
1. ブループリントページで **「トピック」** を選択し、「次へ **をクリックし** す。
1. プロパティページで、トピックテンプレート **タイトル** を指定します。
1. ファイルを指定 **名前**

   >[!NOTE]
   >
   > ファイル名の拡張子は.dita である必要があります。

1. \（オプション\）説明を追加します。
1. 「**作成**」をクリックします。 トピックテンプレートが作成されましたメッセージが表示されます。 その後、トピックテンプレートを開いて編集できます。

**マップ テンプレート**

マップテンプレートを作成するには、次の手順を実行します。

1. **Assets UI** で、dita-templates フォルダーに移動します。
1. **maps** フォルダーをクリックして開きます。
1. **作成\> DITA テンプレート** をクリックします。

   ![](images/create-dita-template.png){width="300" align="left"}

1. ブループリントページで「**Map**」を選択し、「**次へ**」をクリックします。
1. プロパティページで、マップテンプレート **タイトル** を指定します。
1. ファイル **名前** を指定します。

   >[!NOTE]
   >
   > ファイル名の拡張子は.ditamap である必要があります。

1. （オプション\）説明を追加します。「**作成**」をクリックします。 マップテンプレートが作成されましたメッセージが表示されます。 その後、マップ テンプレートを開いて編集できます。 トピック テンプレート、マップ テンプレート、およびマップ テンプレート内の他のアセットの参照を追加できます。

### オプションメニュー {#options-menu}

マップまたはトピックのテンプレートを作成するには、次の手順を実行します。

1. 現在のテンプレートフォルダーで **Map** または **Topic** フォルダーを選択します。 例：`dita-templates` フォルダー。
1. **オプション** メニューから **マップ テンプレートを作成** または **トピック テンプレートを作成** を選択します。

   **新しいマップ テンプレートを作成** または **新しいトピック テンプレートを作成** ダイアログが開きます。
1. 新しいテンプレートのタイトルと名前を入力します。
1. **テンプレート** ドロップダウンリストから、作成するテンプレートのタイプを選択します。

マップテンプレートが作成されましたメッセージが表示されます。 グローバルプロファイルまたはフォルダーレベルのプロファイルにテンプレートを追加できます。 新しいテンプレートがトピックまたはマップの作成プロセスに表示され、マップまたはトピックを作成できます。


管理者は、フォルダーを作成し、テンプレートを作成して保存できるフォルダーに設定することもできます。

設定に基づいて、カスタム DITA テンプレートフォルダーパスの設定方法を説明します。
<details>
    <summary> クラウドサービス </summary>

[&#x200B; カスタム DITA テンプレートフォルダーパスの設定 &#x200B;](/help/product-guide/install-guide/conf-template-tags-custom-dita-topic-template.md#configure-custom-dita-template-folder-path-id191lcf0095z) 方法については、Cloud Services インストールおよび設定ガイドを参照してください。
</details>

<details>
    <summary> オンプレミスソフトウェア</summary>

[&#x200B; カスタム DITA テンプレートフォルダーパスを設定する &#x200B;](/help/product-guide/cs-install-guide/conf-template-tags-custom-dita-topic-template.md#configure-custom-dita-template-folder-path-id191lcf0095z) 方法については、『オンプレミスインストールおよび設定ガイド』を参照してください。
</details>

## テンプレートで定義されたタイトルを渡します

テンプレート内で使用されているトピックまたはマップのタイトルを、そのテンプレートを使用して作成された DITA マップに渡す場合は、タイトルの周りに中括弧を使用します。

例

```XML
<pubtitle>
   <mainpubtitle outputclass="booktitle">
   {title}
   </mainpubtitle>
   <subtitle>Subtitle</subtitle>
</pubtitle>

The resultant DITA map with title "Rootmap1" will look like as follows:
<pubtitle>
   <mainpubtitle outputclass="booktitle">Rootmap1
   </mainpubtitle>
   <subtitle>Subtitle</subtitle>
</pubtitle>
```

>[!NOTE]
> 中括弧が最初に現れる箇所のみが title に置き換えられます。

タイトルに中括弧を使用しない場合、結果の DITA マップは最初の要素だけが選択され、タイトルのネストはテンプレートから選択されず、次のように表示されます。

```XML
<pubtitle> Rootmap1 </pubtitle>
```

>[!NOTE]
> テキストの中カッコを使用して、ネストされた構造をカスタム・テンプレートから DITA マップに渡すこともできます。

例

```XML
<title>    
    <sub>        
        <b>{title}</b>    
    </sub>
</title>
```




## マップ テンプレートを使用して新しいマップを作成します

>[!NOTE]
>
> マップテンプレートを設定し、管理者がオーサリングできるようにする必要があります。 詳しくは、「Adobe Experience Manager Guides as a Cloud Serviceのインストールと設定」の *オーサリングテンプレートの設定* 節を参照してください。

カスタムマップテンプレートを使用してマップを作成するには、次の手順を実行します。

1. **Assets UI で** マップを作成するフォルダーに移動します。
1. **作成\> DITA マップ** をクリックします。
1. ブループリントページで、使用するマップテンプレートを選択し、「**次へ**」をクリックします。 たとえば、マップ テンプレート「test-template」を作成した場合は、それを選択します。
1. プロパティページで、マップ **タイトル** を指定します。
1. ファイル **名前** を指定します。

   >[!NOTE]
   >
   > ファイル名の拡張子は.ditamap である必要があります。

1. 「**作成**」をクリックします。 マップが作成されたことを示すメッセージが表示されます。


マップは、テンプレートフォルダー内で参照されるすべてのアセットを生成します。 マップで参照されるアセットには、次のようなタイプがあります。

- マップにトピック テンプレートへの参照が含まれている場合、そのコピーがフォルダ内に作成されます。これは、`dita-templates` フォルダ内のトピック フォルダと同じ階層にあります。
- マップにマップ テンプレートへの参照が含まれている場合は、そのコピーがフォルダ内に作成されます。これは、`dita-templates` フォルダ内の maps フォルダと同じ階層にあります。
- マップに、`dita-templates/topics` またはフォルダの外部にあるトピックまたはマップへの汎用参照が含まれている場合、同じトピックまたはマップ `dita-templates/maps` 参照されるだけで、コピーは作成されません。

  >[!NOTE]
  >
  > ガイドのデフォルトパスは `dita-templates/topics` と `dita-templates/maps` で、設定可能です。


  マップ テンプレート内にトピック テンプレート キー定義がある場合、新しいキー\（したがって新しいトピック\）が作成され、マップ内で参照されます。

- フォルダー内の同じレベルに別のマップまたはトピックを作成した場合は、新しく作成されたアセットの名前に 0、1、2 などが追加されます。 編集のためにマップを開くか、マップ ファイルをリポジトリに保存するかを選択できます。

**親トピック：**&#x200B;[&#x200B; マップ エディタの操作 &#x200B;](map-editor.md)
